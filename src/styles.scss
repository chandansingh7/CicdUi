@use '@angular/material' as mat;
@use 'variables' as v;
@use 'typography';

// ─── Angular Material Theme ───────────────────────────────────────────────────
@include mat.core();

$primary: mat.define-palette(mat.$indigo-palette, 700);
$accent:  mat.define-palette(mat.$blue-palette, A200);
$warn:    mat.define-palette(mat.$red-palette);

$theme: mat.define-light-theme((
  color:      (primary: $primary, accent: $accent, warn: $warn),
  typography: mat.define-typography-config(),
  density:    0,
));

@include mat.all-component-themes($theme);

// ─── Global Reset ────────────────────────────────────────────────────────────
*, *::before, *::after { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  background: v.$color-background;
}

// ─── Global Layout Helpers ───────────────────────────────────────────────────
.full-width  { width: 100%; }
.spacer      { flex: 1; }

// ─── Spacing Utilities ───────────────────────────────────────────────────────
.mt-8  { margin-top: v.$space-sm; }
.mt-16 { margin-top: v.$space-md; }
.mt-24 { margin-top: v.$space-lg; }
.mb-8  { margin-bottom: v.$space-sm; }
.mb-16 { margin-bottom: v.$space-md; }
.mb-24 { margin-bottom: v.$space-lg; }

// ─── Page Header (used globally) ─────────────────────────────────────────────
.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: v.$space-lg;

  h2 {
    margin: 0;
    font-size: v.$font-size-xl;
    font-weight: v.$font-weight-semibold;
    color: v.$color-primary;
  }
}

// ─── Search Bar ──────────────────────────────────────────────────────────────
.search-bar {
  display: flex;
  gap: v.$space-md;
  margin-bottom: v.$space-md;
  align-items: flex-start;
}

// ─── Card ────────────────────────────────────────────────────────────────────
.card {
  border-radius: v.$radius-lg !important;
  box-shadow: v.$shadow-md !important;
}

// ─── Status Chip Classes ─────────────────────────────────────────────────────
.chip-in-stock    { background: v.$color-success-bg !important; color: v.$color-success !important; }
.chip-low-stock   { background: v.$color-warn-bg !important;    color: v.$color-warn !important; }
.chip-out-of-stock{ background: v.$color-danger-bg !important;  color: v.$color-danger !important; }
.chip-completed   { background: v.$color-success-bg !important; color: v.$color-success !important; }
.chip-pending     { background: v.$color-pending-bg !important; color: v.$color-pending !important; }
.chip-cancelled   { background: v.$color-danger-bg !important;  color: v.$color-danger !important; }

// ─── Material Table ──────────────────────────────────────────────────────────
.mat-mdc-table {
  border-radius: v.$radius-md;
  overflow: hidden;
}

// ─── Snackbar Toasts ─────────────────────────────────────────────────────────
.snack-success .mdc-snackbar__surface {
  background: v.$color-success !important;
  color: white !important;
  border-radius: v.$radius-md !important;

  .mat-mdc-snack-bar-label { color: white !important; font-weight: v.$font-weight-medium; }
  button { color: rgba(255,255,255,0.8) !important; }
}

.snack-error .mdc-snackbar__surface {
  background: v.$color-danger !important;
  color: white !important;
  border-radius: v.$radius-md !important;

  .mat-mdc-snack-bar-label { color: white !important; font-weight: v.$font-weight-medium; }
  button { color: rgba(255,255,255,0.8) !important; }
}

.snack-info .mdc-snackbar__surface {
  background: v.$color-info !important;
  color: white !important;
  border-radius: v.$radius-md !important;

  .mat-mdc-snack-bar-label { color: white !important; }
  button { color: rgba(255,255,255,0.8) !important; }
}
